<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BreathSafe ‚Äì AQI Forecast System</title>

<style>
body{
    font-family:Segoe UI, sans-serif;
    background:#eef2f7;
    margin:0;
}
header{
    background:#203a43;
    color:white;
    padding:20px;
    text-align:center;
}
.container{
    max-width:700px;
    margin:auto;
    padding:30px;
}
.card{
    background:white;
    padding:25px;
    border-radius:15px;
    margin-bottom:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.1);
}
select,button{
    width:100%;
    padding:12px;
    margin-top:10px;
}
button{
    background:#1f3c88;
    color:white;
    border:none;
    cursor:pointer;
}
.good{color:#2ecc71}
.moderate{color:#f1c40f}
.poor{color:#e74c3c}
.forecast{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:15px;
    margin-top:15px;
}
.forecast div{
    background:#f8f9ff;
    padding:15px;
    border-radius:10px;
    text-align:center;
}
</style>
</head>

<body>

<header>
<h1>ü´Å BreathSafe ‚Äì AQI Forecast & Suitability</h1>
<p>Today ‚Ä¢ Tomorrow ‚Ä¢ Next 48 Hours</p>
</header>

<div class="container">

<div class="card">
<label>District</label>
<select id="city">
<option value="">-- Select District --</option>
<option>Bagalkote</option><option>Ballari</option><option>Belagavi</option>
<option>Bengaluru Rural</option><option>Bengaluru Urban</option>
<option>Bidar</option><option>Chamarajanagar</option>
<option>Chikkaballapura</option><option>Chikkamagaluru</option>
<option>Chitradurga</option><option>Dakshina Kannada</option>
<option>Davanagere</option><option>Dharwad</option><option>Gadag</option>
<option>Hassan</option><option>Haveri</option><option>Kalaburagi</option>
<option>Kodagu</option><option>Kolar</option><option>Koppal</option>
<option>Mandya</option><option>Mysuru</option><option>Raichur</option>
<option>Ramanagara</option><option>Shivamogga</option><option>Tumakuru</option>
<option>Udupi</option><option>Uttara Kannada</option>
<option>Vijayanagara</option><option>Vijayapura</option><option>Yadgir</option>
</select>

<label>Health Condition</label>
<select id="condition">
<option>Asthma</option>
<option>COPD</option>
<option>Allergy</option>
</select>

<button onclick="checkAQI()">Analyze Air Quality</button>
</div>

<div class="card">
<h3>üìà AQI Forecast</h3>
<div class="forecast">
<div>
<h4>Today</h4>
<p id="today">--</p>
</div>
<div>
<h4>Tomorrow</h4>
<p id="tomorrow">--</p>
</div>
<div>
<h4>Next 48 hrs</h4>
<p id="next48">--</p>
</div>
</div>
</div>

<div class="card">
<h3>ü©∫ Patient Suitability</h3>
<p id="suitability">--</p>
<p id="advice"></p>
</div>

</div>

<script>
function checkAQI(){
    fetch("/getAQI",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({
            city:city.value,
            condition:condition.value
        })
    })
    .then(res=>res.json())
    .then(data=>{
        today.innerText=data.today;
        tomorrow.innerText=data.tomorrow;
        next48.innerText=data.next48;

        suitability.innerText="Suitability: "+data.suitability;
        advice.innerText=data.advice;

        suitability.className =
            data.suitability==="Suitable" ? "good" :
            data.suitability==="Moderately Suitable" ? "moderate" : "poor";
    });
}
</script>

</body>
</html>
